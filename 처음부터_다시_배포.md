# 🔄 처음부터 다시 배포하기

## 1️⃣ Render에서 기존 서비스 삭제

### Render 대시보드:
https://dashboard.render.com/

### 삭제 방법:
1. **gen-ai-interior-designer** (또는 gen-ai-interior-backend) 클릭
2. 왼쪽 메뉴 **Settings** 클릭
3. 맨 아래로 스크롤
4. **"Delete Service"** 버튼 클릭
5. 서비스 이름 입력해서 확인
6. 삭제 완료

---

## 2️⃣ Backend 새로 배포

### "New +" → "Web Service" 클릭

### GitHub 연결:
- 저장소: `playcatkorea/gen-ai-interior-designer`
- "Connect" 클릭

### 설정 입력:

| 항목 | 값 |
|------|-----|
| **Name** | `gen-ai-interior-backend` |
| **Language** | `Python 3` |
| **Branch** | `main` |
| **Region** | `Singapore (Southeast Asia)` |
| **Root Directory** | `backend` |
| **Build Command** | `pip install --upgrade pip && pip install poetry && poetry install` |
| **Start Command** | `poetry run uvicorn main:app --host 0.0.0.0 --port $PORT` |
| **Instance Type** | **Free** ⭐ |

### 환경 변수 4개 추가:

**"Add Environment Variable"** 클릭 (4번):

```
1. GOOGLE_API_KEY
   AIzaSyByspltgfRno_NisFdYIFZ89HCoaZdokNU

2. YOUTUBE_API_KEY
   AIzaSyCKZIdDjUBLqC8hfcvIQehIul6R6pmGx-A

3. PYTHON_VERSION
   3.12.0

4. ALLOWED_ORIGINS
   *
```

### 배포 시작:
**"Deploy web service"** 클릭 → ⏱️ 8-12분 대기

---

## 3️⃣ Backend 배포 완료 확인

### 배포 성공 시:
- 상단에 **"Live"** 표시
- URL 표시: `https://gen-ai-interior-backend.onrender.com`

### 테스트:
```bash
curl https://gen-ai-interior-backend.onrender.com/
```

**예상 응답**:
```json
{
  "status": "running",
  "message": "Gen AI Home Interior Designer API"
}
```

---

## 4️⃣ Frontend 배포

### Backend URL 복사:
```
https://gen-ai-interior-backend.onrender.com
```

### "New +" → "Web Service" 클릭

### 설정 입력:

| 항목 | 값 |
|------|-----|
| **Name** | `gen-ai-interior-frontend` |
| **Language** | **`Node`** ⚠️ |
| **Branch** | `main` |
| **Region** | `Singapore (Southeast Asia)` |
| **Root Directory** | `frontend` |
| **Build Command** | `npm install && npm run build` |
| **Start Command** | `npm run preview -- --port $PORT --host 0.0.0.0` |
| **Instance Type** | **Free** ⭐ |

### 환경 변수 1개:

```
VITE_API_URL
https://gen-ai-interior-backend.onrender.com
```
↑ Backend URL 입력

### 배포 시작:
**"Deploy web service"** 클릭 → ⏱️ 5-7분 대기

---

## 5️⃣ 배포 완료!

### Frontend 접속:
```
https://gen-ai-interior-frontend.onrender.com
```

### API 문서:
```
https://gen-ai-interior-backend.onrender.com/docs
```

---

## ⚠️ 핵심 포인트

### Backend:
- ✅ Language: Python 3
- ✅ PYTHON_VERSION: **3.12.0** (3.11.0 아님!)
- ✅ Build Command: pip upgrade 포함

### Frontend:
- ✅ Language: **Node** (Python 아님!)
- ✅ VITE_API_URL: Backend URL 정확히 입력

---

## 🎯 예상 소요 시간

- Backend 배포: 8-12분
- Frontend 배포: 5-7분
- **총**: 약 15-20분

---

**차근차근 따라하면 성공합니다!** 🚀
